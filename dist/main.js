!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t){e.exports=function(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,o,a,s=[],i="",d=e.split("/");for(d[0]||d.shift();o=d.shift();)"*"===(n=o[0])?(s.push("wild"),i+="/(.*)"):":"===n?(r=o.indexOf("?",1),a=o.indexOf(".",1),s.push(o.substring(1,~r?r:~a?a:o.length)),i+=~r&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(i+=(~r?"?":"")+"\\"+o.substring(a))):i+="/"+o;return{keys:s,pattern:new RegExp("^"+i+(t?"(?=$|/)":"/?$"),"i")}}},function(e,t,n){"use strict";n.r(t);var r=n(0);function o(e){let t,n,r,o={};for([t,n]of e)o[t]=void 0!==(r=o[t])?[].concat(r,n):n;return o}async function a(e,t){if(e.body&&t)return~t.indexOf("application/json")?e.json():~t.indexOf("multipart/form-data")||~t.indexOf("application/x-www-form-urlencoded")?e.formData().then(o):~t.indexOf("text/")?e.text():e.arrayBuffer()}function s(e){let{request:t,waitUntil:n}=e,r=new URL(t.url),o=this;return o.url=t.url,o.method=t.method,o.headers=t.headers,o.extend=n,o.cf=t.cf,o.params={},o.path=r.pathname,o.hostname=r.hostname,o.query=r.searchParams,o.search=r.search,o.body=a.bind(0,t,o.headers.get("content-type")),o.body.blob=t.blob.bind(t),o.body.text=t.text.bind(t),o.body.arrayBuffer=t.arrayBuffer.bind(t),o.body.formData=t.formData.bind(t),o.body.json=t.json.bind(t),o}var i=new TextEncoder;new TextDecoder;var d="content-length";function u(e){var t=this,n=t.headers=new Headers({"Cache-Control":"private, no-cache"});return t.body="",t.finished=!1,t.status=t.statusCode=200,t.getHeaders=()=>Object.fromEntries(n),t.getHeaderNames=()=>[...n.keys()],t.hasHeader=n.has.bind(n),t.getHeader=n.get.bind(n),t.removeHeader=n.delete.bind(n),t.setHeader=n.set.bind(n),Object.defineProperty(t,"status",{set:e=>{t.statusCode=e},get:()=>t.statusCode}),t.end=e=>{t.finished||(t.finished=!0,t.body=e)},t.writeHead=(e,r)=>{t.statusCode=e;for(let e in r)n.set(e,r[e])},t.send=(n,r,o)=>{let a={};for(let e in o)a[e.toLowerCase()]=o[e];let s=a[d]||t.getHeader(d),u=a["content-type"]||t.getHeader("content-type");null==r?r="":"object"==typeof r&&(r=JSON.stringify(r),u=u||"application/json;charset=utf-8"),a["content-type"]=u||"text/plain",a[d]=s||String(r.byteLength||function(e){return e?i.encode(e).byteLength:0}(r)),204===n||205===n||304===n?(t.removeHeader(d),t.removeHeader("content-type"),delete a[d],delete a["content-type"],r=null):"HEAD"===e&&(r=null),t.writeHead(n,a),t.end(r)},t}var f={400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",409:"Conflict",410:"Gone",411:"Length Required",413:"Payload Too Large",422:"Unprocessable Entity",428:"Precondition Required",429:"Too Many Requests",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout"};async function l(e,t,n,...r){let o=await e(t,n,...r);return o instanceof Response?o:new Response(n.body,n)}var c=caches.default;function p(e){return t=>t.respondWith(function(e,t){return c.match(t||e.request)}(t).then(n=>n||e(t).then(e=>function(e,t,n){let r=n||e.request;return("string"==typeof r||/^(GET|HEAD)$/.test(r.method))&&function(e){if(206===e.status||~(e.headers.get("Vary")||"").indexOf("*"))return!1;let t=e.headers.get("Cache-Control")||"";return!/(private|no-cache|no-store)/i.test(t)&&(e.headers.has("Set-Cookie")&&e.headers.append("Cache-Control","private=Set-Cookie"),!0)}(t)&&e.waitUntil(c.put(r,t.clone())),t}(t,e))))}const h=new function(){let e,t={};return e={add(e,n,o){let a=t[e];if(void 0===a&&(a=t[e]={__d:new Map,__s:{}}),n instanceof RegExp)a.__d.set(n,{keys:[],handler:o});else if(/[:|*]/.test(n)){let{keys:e,pattern:t}=r(n);a.__d.set(t,{keys:e,handler:o})}else a.__s[n]={keys:[],handler:o}},find(e,n){let r,o,a,s,i,d={};if(o=t[e]){if(r=o.__s[n])return{params:d,handler:r.handler};for([a,s]of o.__d)if(i=a.exec(n),null!==i){if(void 0!==i.groups)for(r in i.groups)d[r]=i.groups[r];else if(s.keys.length>0)for(r=0;r<s.keys.length;)d[s.keys[r++]]=i[r];return{params:d,handler:s.handler}}}return{params:d,handler:!1}},onerror(e,t,n,r){let o=f[n=n||500],a=r&&r.message||o||String(n);return new Response(a,{status:n,statusText:o})},async run(t){let n=new s(t),r=new u(n.method);if(e.prepare&&await e.prepare(n,r),r.finished)return new Response(r.body,r);let{params:o,handler:a}=e.find(n.method,n.path);if(!a)return l(e.onerror,n,r,404);try{return n.params=o,l(a,n,r)}catch(t){return l(e.onerror,n,r,500,t)}}}};var y;h.add("GET","/greet/:name",(e,t)=>{t.end(`Hello, ${e.params.name}!`)}),h.add("GET","/",(e,t)=>{t.end("this is a test baby")}),y=h.run,addEventListener("fetch",p(y))}]);